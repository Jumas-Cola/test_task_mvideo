# Тестовое задание Big Data

## Запуск
    python3 main.py

Для работы приложения необходим предобработанный файл recommends:

https://disk.yandex.ru/d/86D5JaKbcaRE_w

Приложение запускается на порту 8000.

После появления надписи Server Loaded, приложение доступно для запросов.

Приложение не имеет зависимостей, тестировалось на версиях Python 3.8.5, 3.9.2

Пример URL:

http://127.0.0.1:8000/?sku=rSWENGbPSK&ge=0.6

## GET параметры
    sku=XXXXXXXXXX - наименование товара
    ge=N - (greater equal) будут возвращены записи с rank больше или равным этому порогу

## Ответ (JSON):

    {
       "sku_recom":[
          {
             "sku":"Xt0E19iV3M",
             "rank":1.0
          },
          {
             "sku":"uz0oguDHE3",
             "rank":1.0
          },
          {
             "sku":"VZhYaOvif9",
             "rank":1.0
          }
          ...
       ]
    }

## Описание выполнения

Исходные данные были предобработаны при помощи библиотеки pandas.
Для применения двоичного поиска при запросе к api, данные были отсортированы по наименованиям товаров и по rank. Однако бинарный поиск по строкам осуществлялся некорректно, вследствие чего было принято решение использовать хеш SHA1 в десятичном числовом представлении для замены sku.

Нетрудно заметить, что данные представлены сериями по 50. Каждой серии соответствует один хеш в таблице index. Поиск осуществляется по таблице index, а по положению в этой таблице вычисляется индекс в таблице sorted_recommends.
